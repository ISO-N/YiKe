# 忆刻 (YiKe) v3.1 UI/UX 设计稿

## 概述

本文档为忆刻 v3.1 版本（Debug 工具与体验优化）的 UI/UX 设计稿，基于 v3.0 设计体系，专注于提升用户测试效率和使用体验。

---

## 设计体系

### 风格定位

| 属性 | 值 |
|------|------|
| **设计风格** | Claymorphism（黏土拟态） |
| **关键词** | Soft 3D, chunky, playful, bubbly, rounded |
| **适用场景** | Educational apps, 儿童/教育类应用 |

### 色彩方案

| 角色 | 颜色 | 用途 |
|------|------|------|
| Primary | `#4F46E5` (Indigo) | 主按钮、主要交互元素 |
| Secondary | `#818CF8` (Light Indigo) | 次要元素、图标 |
| CTA | `#22C55E` (Green) | 成功状态、完成操作 |
| Background | `#EEF2FF` (Light Indigo BG) | 页面背景 |
| Text | `#312E81` (Dark Indigo) | 主要文字 |
| Error | `#EF4444` (Red) | 错误状态 |
| Warning | `#F59E0B` (Amber) | 警告/待处理 |

### 进度状态色彩

| 状态 | 颜色 | 说明 |
|------|------|------|
| 未开始 | `#9CA3AF` (Gray) | 0% |
| 进行中 | `#3B82F6` (Blue) | 1-99% |
| 已完成 | `#22C55E` (Green) | 100% |
| 超额完成 | `#EAB308` (Gold) | >100% |

### 字体方案

| 用途 | 字体 | 字重 |
|------|------|------|
| 标题 | Baloo 2 | 600/700 |
| 正文 | Comic Neue | 400/700 |
| 正文（中文） | Noto Sans SC | 400/500 |

### 圆角与间距

| 元素 | 圆角 | 说明 |
|------|------|------|
| 卡片 | 16px | 标准卡片圆角 |
| 按钮 | 12px | 按钮圆角 |
| 输入框 | 12px | 输入框圆角 |
| 进度环 | 8px | 进度条圆角 |
| 间距 | 16px | 标准间距 |

---

## 一、F13 Debug 模式模拟数据生成器

### 1.1 入口设计

#### 入口位置

仅在 Debug 模式下显示，位置为设置页底部：

```
设置页 (/settings)
├── 主题设置
├── 通知设置
├── 数据导出
├── 关于
├── ─────────────
└── [仅 Debug] 开发工具  ← 新增入口
    └── 🔧 模拟数据生成器
```

#### 入口样式

| 属性 | 值 |
|------|------|
| 图标 | wrench（工具图标） |
| 文字颜色 | Primary (#4F46E5) |
| 背景 | 无 |
| 底部边距 | 24px（与"关于"分隔） |

#### 安全考虑

- **Release 模式**：入口完全不渲染
- **数据安全**：生成数据带标记，清理时按标记删除

---

### 1.2 模拟数据生成器页面

#### 页面结构

```
模拟数据生成器
├── 顶部 AppBar
│   ├── 返回按钮
│   └── 标题：「模拟数据生成器」
├── 配置表单
│   ├── 学习内容数量 (1-100)
│   ├── 复习任务数量 (1-500)
│   ├── 复习日期范围 (下拉选择)
│   ├── 生成模板 (单选)
│   └── 包含已完成任务 (开关)
│   └── 包含已跳过任务 (开关)
├── 操作按钮区
│   ├── 生成数据 (Primary)
│   └── 清理数据 (Secondary/Danger)
└── 状态提示
    └── 生成进度/结果提示
```

#### 组件规格

##### 数字输入 (Slider + Input)

```
学习内容数量
├── 滑块：0-100
├── 当前值：10
└── 数字输入框：可直接输入
```

| 属性 | 值 |
|------|------|
| 滑块颜色 | Primary |
| 滑块-thumb | 24px 圆形 |
| 数值字体 | Baloo 2, 24px, Bold |
| 步长 | 1 |

##### 模板选择 (Segmented Button)

```
[英语单词] [历史事件] [自定义]
```

| 属性 | 值 |
|------|------|
| 选中背景 | Primary (#4F46E5) |
| 选中文字 | White |
| 未选中背景 | #E0E7FF |
| 未选中文字 | #312E81 |
| 圆角 | 12px |

##### 开关 (Switch)

| 属性 | 值 |
|------|------|
| 开启颜色 | Primary |
| 关闭轨道颜色 | #D1D5DB |
| 尺寸 | 48x24px |

##### 操作按钮

| 按钮 | 样式 | 说明 |
|------|------|------|
| 生成数据 | Primary, Full Width | 48px 高度，圆角 12px |
| 清理模拟数据 | Outlined Danger | 仅删除本次生成 |
| 清空全部数据 | Danger, Full Width | 危险操作，二次确认 |

---

### 1.3 空状态与加载状态

#### 生成中状态

```
┌─────────────────────────┐
│      生成中...          │
│     ━━━━━━━━━━━━        │
│   正在生成 8/50 条任务  │
└─────────────────────────┘
```

- 显示线性进度条
- 显示当前进度 "正在生成 X/Y 条任务"
- 按钮禁用状态

#### 生成完成状态

```
┌─────────────────────────┐
│      ✅ 生成完成        │
│   已生成 50 条复习任务  │
└─────────────────────────┘
```

- 显示成功图标
- 显示生成数量统计
- 2 秒后自动消失，或点击关闭

#### 清理确认对话框

```
┌─────────────────────────┐
│    确认清理数据？       │
├─────────────────────────┤
│  将删除本次生成的       │
│  10 条学习内容和        │
│  50 条复习任务          │
├─────────────────────────┤
│  [取消]        [确认]   │
└─────────────────────────┘
```

- 显示删除数量预览
- 取消按钮：Secondary
- 确认按钮：Danger (红色)

---

## 二、F14.1 学习内容搜索

### 2.1 搜索栏位置

#### 首页搜索栏

```
┌─────────────────────────────────────┐
│  🔍 搜索学习内容...              ✕  │  ← 新增
├─────────────────────────────────────┤
│  今日复习进度                      │
│  ┌────┐                            │
│  │ 66%│  8/12                      │
│  └────┘                            │
│  ...                               │
└─────────────────────────────────────┘
```

| 属性 | 值 |
|------|------|
| 位置 | 首页顶部，导航栏下方 |
| 背景 | 白色卡片，圆角 12px |
| 内边距 | 12px 16px |
| 阴影 | 0 2px 8px rgba(0,0,0,0.08) |

### 2.2 搜索栏样式

```
┌─────────────────────────────────────────┐
│ 🔍  │ 搜索学习内容...            │  ✕  │
└─────────────────────────────────────────┘
  20px      空白填充           清除按钮
```

| 元素 | 规格 |
|------|------|
| 搜索图标 | 20px, #9CA3AF |
| 输入框 | 无边框，16px 字号 |
| 清除按钮 | 20px, 点击清空搜索内容 |
| 占位符 | "搜索学习内容..."，#9CA3AF |

### 2.3 搜索结果展示

#### 搜索中

```
┌─────────────────────────────────────┐
│ 🔍 搜索中...                      ✕ │
├─────────────────────────────────────┤
│  找到 3 条结果                      │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 单词: abandon                   │ │  ← 标题高亮
│ │ 释义: 放弃；遗弃                │ │
│ │ 复习: 3 次  ·  2024-01-15      │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ abandon v.                      │ │
│ │ to give up...                  │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

| 元素 | 规格 |
|------|------|
| 匹配高亮 | Primary 颜色 (#4F46E5)，Bold |
| 结果卡片 | 白色背景，圆角 12px |
| 卡片间距 | 8px |
| 卡片内边距 | 12px |

#### 空结果状态

```
┌─────────────────────────────────────┐
│  🔍 搜索 "xxx"                   ✕ │
├─────────────────────────────────────┤
│                                     │
│         未找到相关结果              │
│                                     │
│   试试其他关键词或检查拼写         │
│                                     │
└─────────────────────────────────────┘
```

- 图标：search, 48px, #D1D5DB
- 文字：#6B7280

### 2.4 搜索历史

```
┌─────────────────────────────────────┐
│ 🔍 搜索学习内容...              ✕ │
├─────────────────────────────────────┤
│ 搜索历史                      [清除]│
├─────────────────────────────────────┤
│ • abandon                           │
│ • 艾宾浩斯                         │
│ • 单词                             │
└─────────────────────────────────────┘
```

| 元素 | 规格 |
|------|------|
| 历史记录 | 最多显示 5 条 |
| 删除按钮 | 文字按钮，"清除" |
| 点击填充 | 点击历史项填充到搜索框 |

---

## 三、F14.2 复习任务状态筛选

### 3.1 筛选栏位置

#### 日历视图筛选栏

```
┌─────────────────────────────────────┐
│  < 一月 2024 >                      │
├─────────────────────────────────────┤
│ [全部(25)] [待复习(8)] [已完成(15)] [已跳过(2)] │  ← 新增
├─────────────────────────────────────┤
│     日历网格...                     │
├─────────────────────────────────────┤
│     任务列表...                     │
└─────────────────────────────────────┘
```

| 属性 | 值 |
|------|------|
| 位置 | 日历网格下方，任务列表上方 |
| 背景 | 透明 |
| 内边距 | 12px 16px |

#### 首页筛选栏（折叠）

```
┌─────────────────────────────────────┐
│  🔍 搜索学习内容...              ✕ │
├─────────────────────────────────────┤
│  今日复习进度                      │
│  今日: 8/12 ✓ 筛选 ▼             │  ← 新增
├─────────────────────────────────────┤
│  ...                               │
└─────────────────────────────────────┘
```

首页筛选栏默认折叠，点击展开：

```
│  今日: 8/12 ✓ 筛选 ▼             │
│  ─────────────────────            │
│  [全部] [待复习] [已完成] [已跳过]│  ← 展开
└─────────────────────────────────────┘
```

### 3.2 筛选选项样式

```
[ 全部(25) ] [ 待复习(8) ] [ 已完成(15) ] [ 已跳过(2) ]
 ↑选中                   ↑未选中
```

| 状态 | 背景 | 文字颜色 | 边框 |
|------|------|----------|------|
| 选中 | Primary (#4F46E5) | White | 无 |
| 未选中 | #F3F4F6 | #374151 | 1px #E5E7EB |
| 圆角 | 20px（药丸形） | | |
| 内边距 | 8px 16px | | |

### 3.3 统计数字样式

| 元素 | 规格 |
|------|------|
| 全部 | 默认选中，显示总数 |
| 待复习 | 显示待复习数量，图标：clock |
| 已完成 | 显示已完成数量，图标：check-circle，绿色 |
| 已跳过 | 显示已跳过数量，图标：forward，灰色 |

### 3.4 空状态

```
┌─────────────────────────────────────┐
│  [全部] [待复习] [已完成] [已跳过] │
├─────────────────────────────────────┤
│                                     │
│         无待复习任务                │
│                                     │
│   当前没有需要复习的任务            │
│   去看看其他日期的任务吧           │
│                                     │
└─────────────────────────────────────┘
```

---

## 四、F14.3 首页复习进度展示

### 4.1 进度展示位置

```
┌─────────────────────────────────────┐
│  🔍 搜索学习内容...              ✕ │
├─────────────────────────────────────┤
│  今日复习进度                ℹ️    │  ← 新增
│  ┌────┐                            │
│  │ 66%│  8/12                      │
│  └────┘                            │
├─────────────────────────────────────┤
│  今日复习                           │
│  ┌─────────────────────────────────┐│
│  │ 单词: abandon                   ││
│  └─────────────────────────────────┘│
└─────────────────────────────────────┘
```

| 属性 | 值 |
|------|------|
| 位置 | 搜索栏下方，复习任务列表上方 |
| 背景 | 白色卡片，圆角 16px |
| 边距 | 16px |
| 阴影 | 0 2px 8px rgba(0,0,0,0.08) |

### 4.2 进度环组件

```
┌──────────────────────┐
│    今日复习进度      │
│    ┌──────────┐      │
│    │   66%    │      │
│    │    ○     │      │
│    └──────────┘      │
│      8 / 12          │
└──────────────────────┘
```

| 元素 | 规格 |
|------|------|
| 进度环尺寸 | 100px × 100px |
| 环宽度 | 10px |
| 环颜色 | 根据状态变化 |
| 百分比文字 | Baloo 2, 28px, Bold |
| 统计文字 | Comic Neue, 14px, #6B7280 |

### 4.3 进度状态视觉

| 状态 | 环颜色 | 环背景 | 文字颜色 |
|------|--------|--------|----------|
| 未开始 (0%) | #9CA3AF | #F3F4F6 | #6B7280 |
| 进行中 (1-99%) | #3B82F6 | #DBEAFE | #1E40AF |
| 已完成 (100%) | #22C55E | #DCFCE7 | #166534 |
| 超额完成 (>100%) | #EAB308 | #FEF9C3 | #A16207 |

### 4.4 详细统计（点击展开）

```
│    今日复习进度                ℹ️    │
│    ─────────────────────            │  ← 点击后展开
│    今日: 8/12 (66%)                │
│    本周: 45/60 (75%)               │
│    本月: 180/240 (75%)            │
│    总复习: 856 次                   │
│    连续学习: 12 天                  │
└─────────────────────────────────────┘
```

| 元素 | 规格 |
|------|------|
| 展开动画 | 200ms ease-out |
| 展开高度 | ~150px |
| 统计项间距 | 8px |
| 统计项颜色 | #6B7280 |
| 数字颜色 | #312E81, Bold |

### 4.5 进度环动画

| 动画 | 时长 | 缓动 |
|------|------|------|
| 初始加载 | 800ms | ease-out |
| 数值递增 | 600ms | ease-in-out |
| 颜色切换 | 200ms | linear |

---

## 五、响应式布局

### 5.1 移动端 (宽度 < 600px)

- 搜索栏：全宽，16px 边距
- 筛选栏：2 行，每行 2 个选项
- 进度环：80px × 80px

### 5.2 平板 (600px - 1024px)

- 搜索栏：全宽，24px 边距
- 筛选栏：1 行，4 个选项
- 进度环：100px × 100px

### 5.3 桌面端 (宽度 ≥ 1024px)

- 搜索栏：居中，最大宽度 600px
- 筛选栏：居中，最大宽度 800px
- 进度环：120px × 120px

---

## 六、组件状态汇总

### 按钮状态

| 状态 | Primary 按钮 | Secondary 按钮 | Danger 按钮 |
|------|--------------|----------------|-------------|
| 默认 | bg: #4F46E5, text: white | bg: #E0E7FF, text: #4F46E5 | bg: transparent, border: #EF4444, text: #EF4444 |
| 按下 | bg: #4338CA | bg: #C7D2FE | bg: #FEE2E2 |
| 禁用 | bg: #9CA3AF, text: white | bg: #F3F4F6, text: #9CA3AF | border: #F3F4F6, text: #F3F4F6 |

### 输入框状态

| 状态 | 背景 | 边框 | 文字颜色 |
|------|------|------|----------|
| 默认 | white | 1px #E5E7EB | #312E81 |
| 聚焦 | white | 2px #4F46E5 | #312E81 |
| 错误 | #FEF2F2 | 2px #EF4444 | #991B1B |
| 禁用 | #F9FAFB | 1px #E5E7EB | #9CA3AF |

---

## 七、无障碍设计

### 7.1 触摸目标

- 最小触摸目标：44px × 44px
- 按钮高度：48px
- 列表项高度：56px

### 7.2 颜色对比

- 主文字与背景：≥ 4.5:1
- 次要文字与背景：≥ 3:1
- 按钮文字与按钮背景：≥ 4.5:1

### 7.3 屏幕阅读器

- 所有图标按钮添加 `semanticLabel`
- 进度环添加 `semanticValue`
- 搜索结果添加结果数量

---

## 八、交互流程图

### 8.1 模拟数据生成流程

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  配置参数   │───▶│  点击生成   │───▶│  生成中...  │
└─────────────┘    └─────────────┘    └─────────────┘
                                             │
                    ┌─────────────┐          │
                    │  ✅ 完成    │◀─────────┘
                    └─────────────┘
                           │
        ┌──────────────────┼──────────────────┐
        ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  返回首页   │    │  继续生成   │    │  清理数据   │
└─────────────┘    └─────────────┘    └─────────────┘
```

### 8.2 搜索流程

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  点击搜索栏 │───▶│  输入关键词  │───▶│  实时搜索   │
└─────────────┘    └─────────────┘    └─────────────┘
                                             │
                    ┌─────────────┐          │
                    │  显示结果   │◀─────────┘
                    └─────────────┘
                           │
        ┌──────────────────┼──────────────────┐
        ▼                  ▼                  ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  查看详情   │    │  清空搜索  │    │  查看历史   │
└─────────────┘    └─────────────┘    └─────────────┘
```

---

*本文档为忆刻 v3.1 UI/UX 设计稿，与 PRD v3.1 和 TDD v3.1 配合使用。*
