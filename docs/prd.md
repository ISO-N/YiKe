# 忆刻 (YiKe) — 产品需求文档

## 文档概述

本文档是忆刻产品的需求文档提纲，涵盖所有已发布和规划中的功能需求。详细内容请参考各版本 PRD 文档。

---

## 1. 项目概述

### 1.1 产品定位

基于**艾宾浩斯遗忘曲线**的学习任务规划应用。

### 1.2 核心价值

- **零门槛**：输入即规划，不需要用户理解记忆曲线理论
- **不遗忘**：推送通知 + 桌面小组件，双重提醒
- **可追踪**：勾选完成、查看复习进度，形成正向反馈

### 1.3 目标用户

| 用户画像 | 描述 |
|----------|------|
| 学生 | 备考、日常课程复习，需要科学记忆规划 |
| 职场人 | 考证、技术面试准备，碎片化学习场景 |
| 终身学习者 | 语言学习、读书笔记复习等 |

---

## 2. 功能需求

### 2.1 v1.0 MVP（已发布）

| 功能编号 | 功能描述 | 优先级 | 状态 |
|----------|----------|--------|------|
| F1 | 学习内容录入 | P0 | ✅ 已完成 |
| F2 | 艾宾浩斯复习计划自动生成 | P0 | ✅ 已完成 |
| F3 | 复习任务勾选完成 | P0 | ✅ 已完成 |
| F4 | 通知提醒 | P0 | ✅ 已完成 |
| F5 | 桌面小组件（Widget） | P1 | ✅ 已完成 |

#### F1 学习内容录入

- 输入字段：标题（必填，≤50字）、备注（选填）、标签/分类（选填）
- 支持一次录入多条内容
- 录入后立即自动生成复习计划

#### F2 艾宾浩斯复习计划自动生成

默认复习节点（基于学习日 D0）：

| 复习轮次 | 时间间隔 | 日期 |
|----------|----------|------|
| 第 1 次 | +1 天 | D1 |
| 第 2 次 | +2 天 | D3 |
| 第 3 次 | +4 天 | D7 |
| 第 4 次 | +7 天 | D14 |
| 第 5 次 | +15 天 | D29 |

#### F3 复习任务勾选完成

- 任务状态：待复习 → 已完成 / 已跳过
- 支持批量勾选
- 逾期未完成的任务标红提示

#### F4 通知提醒

- 默认提醒时间：每日 09:00（用户可自定义）
- 支持免打扰时段设置

#### F5 桌面小组件

- 2×2 尺寸：仅显示数量
- 4×2 尺寸：显示任务列表

---

### 2.2 v2.0（已发布）

| 功能编号 | 功能描述 | 优先级 | 状态 |
|----------|----------|--------|------|
| F6 | 日历视图 | P1 | ✅ 已完成 |
| F7 | 学习统计 | P2 | ✅ 已完成 |
| F8 | 数据导出与备份 | P2 | ✅ 已完成 |

#### F6 日历视图

- 以日历形式展示每天的复习任务分布
- 日期下方显示任务状态圆点（颜色区分）
- 点击日期在页面底部展示当日任务列表

#### F7 学习统计

- 连续打卡天数
- 本周 / 本月复习完成率
- 各分类学习内容占比饼图

#### F8 数据导出与备份

- 本地导出为 JSON / CSV 格式
- 支持分享到其他应用

---

### 2.3 v2.1 录入功能升级（规划中）

| 功能编号 | 功能描述 | 优先级 |
|----------|----------|--------|
| F1.1 | 批量导入 | P0 |
| F1.2 | 快速模板 | P0 |
| F1.3 | 语音输入 | P1 |
| F1.4 | OCR 识别 | P1 |
| F1.5 | 复习预览 | P1 |
| F1.6 | 内容关联 | P2 |

#### F1.1 批量导入

- 支持 TXT（每行一条）、CSV（标题,备注,标签）、Markdown 格式
- 导入前预览确认，支持编辑后再保存
- 支持 GBK/UTF-8 自动识别编码

#### F1.2 快速模板

- 保存常用内容模板，一键快速填充
- 支持占位符：{date}、{day}、{weekday}
- 模板列表管理：新增、编辑、删除、排序

#### F1.3 语音输入

- 语音转文字快速录入
- 支持连续语音输入
- 识别语言支持中文、英文

#### F1.4 OCR 识别

- 拍照或从相册选择图片
- 对图片进行 OCR 文字识别
- 识别结果支持编辑后生成学习内容

#### F1.5 复习预览

- 录入页面实时显示将生成的复习计划
- 展示艾宾浩斯5个复习节点
- 支持用户调整复习间隔

#### F1.6 内容关联

- 将多个学习内容标记为同一主题
- 主题内各内容独立生成复习任务，进度按主题聚合展示

---

### 2.4 v2.2 主题功能升级（开发中）

| 功能编号 | 功能描述 | 优先级 |
|----------|----------|--------|
| F9.1 | 深色主题 | P0 |
| F9.2 | 跟随系统主题 | P0 |
| F9.3 | 主题设置入口 | P0 |

#### F9.1 深色主题

- 提供完整的深色主题适配
- 所有页面在深色模式下显示正常

#### F9.2 跟随系统主题

- 应用主题自动跟随手机系统设置
- 当系统切换浅色/深色时，应用同步切换

#### F9.3 主题设置入口

- 在设置页面提供主题模式选择入口
- 选项：跟随系统 / 浅色 / 深色

---

## 3. 非功能需求

| 类别 | 要求 |
|------|------|
| 性能 | 冷启动 ≤ 2s；录入到生成计划 ≤ 500ms |
| 存储 | 本地 SQLite 存储，支持 10,000+ 条任务流畅查询 |
| 兼容性 | Android 8.0+ / iOS 14+ |
| 离线 | 核心功能完全离线可用，无需联网 |
| 安全 | 本地数据加密存储 |

---

## 4. 版本规划

### 已发布版本

| 版本 | 主要功能 | 状态 |
|------|----------|------|
| v1.0 | MVP 核心功能（F1-F5） | ✅ 已发布 |
| v2.0 | 日历视图、学习统计、数据导出（F6-F8） | ✅ 已发布 |

### 规划中版本

| 版本 | 主要功能 | 状态 |
|------|----------|------|
| v2.1 | 录入功能升级（F1.1-F1.6） | 📋 规划 |
| v2.2 | 主题功能升级（F9.1-F9.3） | 🔄 开发中 |

---

## 5. 风险与应对

| 风险 | 影响 | 应对策略 |
|------|------|----------|
| 用户录入频率低 | 复习计划稀少，产品价值降低 | 引导流程优化 + 快速录入交互 |
| 通知被系统屏蔽 | 提醒失效 | 引导用户开启通知权限 + 小组件兜底 |
| 任务堆积导致放弃 | 用户流失 | 智能合并 + "今日精选"模式限制每日复习量 |

---

## 6. 成功指标

| 指标 | 目标（上线 3 个月内） |
|------|----------------------|
| 日活跃用户（DAU） | ≥ 500 |
| 次日留存率 | ≥ 40% |
| 平均复习完成率 | ≥ 60% |
| 小组件使用率 | ≥ 30% |
| 软件评分 | ≥ 4.5 |

---

## 7. 文档更新日志

| 日期 | 版本 | 更新内容 |
|------|------|----------|
| 2025-02-25 | v1.0 | 创建初始文档 |
| 2026-02-26 | v2.0 | 添加 v2.0 功能规划 |
| 2026-02-26 | v2.1 | 添加录入功能升级规划 |
| 2026-02-26 | v2.2 | 添加主题功能升级规划 |

---

*本文档是产品需求文档的提纲，详细的PRD请参考：*
- `docs/prd/prd-v1.md` - MVP 版本
- `docs/prd/prd-v2.md` - v2.0 迭代计划
- `docs/prd/prd-v2.1.md` - v2.1 录入功能升级
- `docs/prd/prd-v2.2.md` - v2.2 主题功能升级
